/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/H264NALDecoder.worker.js":
/*!**************************************!*\
  !*** ./src/H264NALDecoder.worker.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Worker_fn)\n/* harmony export */ });\nfunction Worker_fn() {\n  return new Worker(__webpack_require__.p + \"main.worker.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvSDI2NE5BTERlY29kZXIud29ya2VyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZW1vLy4vc3JjL0gyNjROQUxEZWNvZGVyLndvcmtlci5qcz83MjEwIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFdvcmtlcl9mbigpIHtcbiAgcmV0dXJuIG5ldyBXb3JrZXIoX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIm1haW4ud29ya2VyLmpzXCIpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/H264NALDecoder.worker.js\n");

/***/ }),

/***/ "./src/ShaderCompiler.js":
/*!*******************************!*\
  !*** ./src/ShaderCompiler.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ShaderCompiler)\n/* harmony export */ });\n/**\n * Represents a WebGL shader object and provides a mechanism to load shaders from HTML\n * script tags.\n */\n\nclass ShaderCompiler {\n  /**\n   * @param {WebGLRenderingContext}gl\n   * @param {{type: string, source: string}}script\n   * @return {WebGLShader}\n   */\n  static compile (gl, script) {\n    let shader\n    // Now figure out what type of shader script we have, based on its MIME type.\n    if (script.type === 'x-shader/x-fragment') {\n      shader = gl.createShader(gl.FRAGMENT_SHADER)\n    } else if (script.type === 'x-shader/x-vertex') {\n      shader = gl.createShader(gl.VERTEX_SHADER)\n    } else {\n      throw new Error('Unknown shader type: ' + script.type)\n    }\n\n    // Send the source to the shader object.\n    gl.shaderSource(shader, script.source)\n\n    // Compile the shader program.\n    gl.compileShader(shader)\n\n    // See if it compiled successfully.\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n      throw new Error('An error occurred compiling the shaders: ' + gl.getShaderInfoLog(shader))\n    }\n\n    return shader\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvU2hhZGVyQ29tcGlsZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RlbW8vLi9zcmMvU2hhZGVyQ29tcGlsZXIuanM/ODQ4ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFJlcHJlc2VudHMgYSBXZWJHTCBzaGFkZXIgb2JqZWN0IGFuZCBwcm92aWRlcyBhIG1lY2hhbmlzbSB0byBsb2FkIHNoYWRlcnMgZnJvbSBIVE1MXG4gKiBzY3JpcHQgdGFncy5cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTaGFkZXJDb21waWxlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1nbFxuICAgKiBAcGFyYW0ge3t0eXBlOiBzdHJpbmcsIHNvdXJjZTogc3RyaW5nfX1zY3JpcHRcbiAgICogQHJldHVybiB7V2ViR0xTaGFkZXJ9XG4gICAqL1xuICBzdGF0aWMgY29tcGlsZSAoZ2wsIHNjcmlwdCkge1xuICAgIGxldCBzaGFkZXJcbiAgICAvLyBOb3cgZmlndXJlIG91dCB3aGF0IHR5cGUgb2Ygc2hhZGVyIHNjcmlwdCB3ZSBoYXZlLCBiYXNlZCBvbiBpdHMgTUlNRSB0eXBlLlxuICAgIGlmIChzY3JpcHQudHlwZSA9PT0gJ3gtc2hhZGVyL3gtZnJhZ21lbnQnKSB7XG4gICAgICBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoZ2wuRlJBR01FTlRfU0hBREVSKVxuICAgIH0gZWxzZSBpZiAoc2NyaXB0LnR5cGUgPT09ICd4LXNoYWRlci94LXZlcnRleCcpIHtcbiAgICAgIHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5WRVJURVhfU0hBREVSKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gc2hhZGVyIHR5cGU6ICcgKyBzY3JpcHQudHlwZSlcbiAgICB9XG5cbiAgICAvLyBTZW5kIHRoZSBzb3VyY2UgdG8gdGhlIHNoYWRlciBvYmplY3QuXG4gICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc2NyaXB0LnNvdXJjZSlcblxuICAgIC8vIENvbXBpbGUgdGhlIHNoYWRlciBwcm9ncmFtLlxuICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKVxuXG4gICAgLy8gU2VlIGlmIGl0IGNvbXBpbGVkIHN1Y2Nlc3NmdWxseS5cbiAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBbiBlcnJvciBvY2N1cnJlZCBjb21waWxpbmcgdGhlIHNoYWRlcnM6ICcgKyBnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcikpXG4gICAgfVxuXG4gICAgcmV0dXJuIHNoYWRlclxuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/ShaderCompiler.js\n");

/***/ }),

/***/ "./src/ShaderProgram.js":
/*!******************************!*\
  !*** ./src/ShaderProgram.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ShaderProgram)\n/* harmony export */ });\nclass ShaderProgram {\n  /**\n   * @param {WebGLRenderingContext}gl\n   */\n  constructor (gl) {\n    this.gl = gl\n    this.program = this.gl.createProgram()\n  }\n\n  /**\n   * @param {WebGLShader}shader\n   */\n  attach (shader) {\n    this.gl.attachShader(this.program, shader)\n  }\n\n  link () {\n    this.gl.linkProgram(this.program)\n    // If creating the shader program failed, alert.\n    if (!this.gl.getProgramParameter(this.program, this.gl.LINK_STATUS)) {\n      console.error('Unable to initialize the shader program.')\n    }\n  }\n\n  use () {\n    this.gl.useProgram(this.program)\n  }\n\n  /**\n   * @param {string}name\n   * @return {number}\n   */\n  getAttributeLocation (name) {\n    return this.gl.getAttribLocation(this.program, name)\n  }\n\n  /**\n   * @param {string}name\n   * @return {WebGLUniformLocation | null}\n   */\n  getUniformLocation (name) {\n    return this.gl.getUniformLocation(this.program, name)\n  }\n\n  /**\n   * @param {WebGLUniformLocation}uniformLocation\n   * @param {Array<number>}array\n   */\n  setUniformM4 (uniformLocation, array) {\n    this.gl.uniformMatrix4fv(uniformLocation, false, array)\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvU2hhZGVyUHJvZ3JhbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZW1vLy4vc3JjL1NoYWRlclByb2dyYW0uanM/NjNiYyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBTaGFkZXJQcm9ncmFtIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fWdsXG4gICAqL1xuICBjb25zdHJ1Y3RvciAoZ2wpIHtcbiAgICB0aGlzLmdsID0gZ2xcbiAgICB0aGlzLnByb2dyYW0gPSB0aGlzLmdsLmNyZWF0ZVByb2dyYW0oKVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViR0xTaGFkZXJ9c2hhZGVyXG4gICAqL1xuICBhdHRhY2ggKHNoYWRlcikge1xuICAgIHRoaXMuZ2wuYXR0YWNoU2hhZGVyKHRoaXMucHJvZ3JhbSwgc2hhZGVyKVxuICB9XG5cbiAgbGluayAoKSB7XG4gICAgdGhpcy5nbC5saW5rUHJvZ3JhbSh0aGlzLnByb2dyYW0pXG4gICAgLy8gSWYgY3JlYXRpbmcgdGhlIHNoYWRlciBwcm9ncmFtIGZhaWxlZCwgYWxlcnQuXG4gICAgaWYgKCF0aGlzLmdsLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5wcm9ncmFtLCB0aGlzLmdsLkxJTktfU1RBVFVTKSkge1xuICAgICAgY29uc29sZS5lcnJvcignVW5hYmxlIHRvIGluaXRpYWxpemUgdGhlIHNoYWRlciBwcm9ncmFtLicpXG4gICAgfVxuICB9XG5cbiAgdXNlICgpIHtcbiAgICB0aGlzLmdsLnVzZVByb2dyYW0odGhpcy5wcm9ncmFtKVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfW5hbWVcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0QXR0cmlidXRlTG9jYXRpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5nbC5nZXRBdHRyaWJMb2NhdGlvbih0aGlzLnByb2dyYW0sIG5hbWUpXG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9bmFtZVxuICAgKiBAcmV0dXJuIHtXZWJHTFVuaWZvcm1Mb2NhdGlvbiB8IG51bGx9XG4gICAqL1xuICBnZXRVbmlmb3JtTG9jYXRpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLCBuYW1lKVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViR0xVbmlmb3JtTG9jYXRpb259dW5pZm9ybUxvY2F0aW9uXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn1hcnJheVxuICAgKi9cbiAgc2V0VW5pZm9ybU00ICh1bmlmb3JtTG9jYXRpb24sIGFycmF5KSB7XG4gICAgdGhpcy5nbC51bmlmb3JtTWF0cml4NGZ2KHVuaWZvcm1Mb2NhdGlvbiwgZmFsc2UsIGFycmF5KVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/ShaderProgram.js\n");

/***/ }),

/***/ "./src/ShaderSources.js":
/*!******************************!*\
  !*** ./src/ShaderSources.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"fragmentYUV\": () => (/* binding */ fragmentYUV),\n/* harmony export */   \"vertexQuad\": () => (/* binding */ vertexQuad)\n/* harmony export */ });\n/**\n * @type {{type: string, source: string}}\n */\nconst vertexQuad = {\n  type: 'x-shader/x-vertex',\n  source: `\n  precision mediump float;\n\n  uniform mat4 u_projection;\n  attribute vec2 a_position;\n  attribute vec2 a_texCoord;\n  varying vec2 v_texCoord;\n  void main(){\n      v_texCoord = a_texCoord;\n      gl_Position = u_projection * vec4(a_position, 0.0, 1.0);\n  }\n`\n}\n\n/**\n * @type {{type: string, source: string}}\n */\nconst fragmentYUV = {\n  type: 'x-shader/x-fragment',\n  source: `\n  precision lowp float;\n  \n  varying vec2 v_texCoord;\n  \n  uniform sampler2D yTexture;\n  uniform sampler2D uTexture;\n  uniform sampler2D vTexture;\n    \n  const mat4 conversion = mat4(\n    1.0,     0.0,     1.402,  -0.701,\n    1.0,    -0.344,  -0.714,   0.529,\n    1.0,     1.772,   0.0,    -0.886,\n    0.0,     0.0,     0.0,     0.0\n  );\n\n  void main(void) {\n    float yChannel = texture2D(yTexture, v_texCoord).x;\n    float uChannel = texture2D(uTexture, v_texCoord).x;\n    float vChannel = texture2D(vTexture, v_texCoord).x;\n    vec4 channels = vec4(yChannel, uChannel, vChannel, 1.0);\n    vec3 rgb = (channels * conversion).xyz;\n    gl_FragColor = vec4(rgb, 1.0);\n  }\n`\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvU2hhZGVyU291cmNlcy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZW1vLy4vc3JjL1NoYWRlclNvdXJjZXMuanM/ZDU0NSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEB0eXBlIHt7dHlwZTogc3RyaW5nLCBzb3VyY2U6IHN0cmluZ319XG4gKi9cbmV4cG9ydCBjb25zdCB2ZXJ0ZXhRdWFkID0ge1xuICB0eXBlOiAneC1zaGFkZXIveC12ZXJ0ZXgnLFxuICBzb3VyY2U6IGBcbiAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG5cbiAgdW5pZm9ybSBtYXQ0IHVfcHJvamVjdGlvbjtcbiAgYXR0cmlidXRlIHZlYzIgYV9wb3NpdGlvbjtcbiAgYXR0cmlidXRlIHZlYzIgYV90ZXhDb29yZDtcbiAgdmFyeWluZyB2ZWMyIHZfdGV4Q29vcmQ7XG4gIHZvaWQgbWFpbigpe1xuICAgICAgdl90ZXhDb29yZCA9IGFfdGV4Q29vcmQ7XG4gICAgICBnbF9Qb3NpdGlvbiA9IHVfcHJvamVjdGlvbiAqIHZlYzQoYV9wb3NpdGlvbiwgMC4wLCAxLjApO1xuICB9XG5gXG59XG5cbi8qKlxuICogQHR5cGUge3t0eXBlOiBzdHJpbmcsIHNvdXJjZTogc3RyaW5nfX1cbiAqL1xuZXhwb3J0IGNvbnN0IGZyYWdtZW50WVVWID0ge1xuICB0eXBlOiAneC1zaGFkZXIveC1mcmFnbWVudCcsXG4gIHNvdXJjZTogYFxuICBwcmVjaXNpb24gbG93cCBmbG9hdDtcbiAgXG4gIHZhcnlpbmcgdmVjMiB2X3RleENvb3JkO1xuICBcbiAgdW5pZm9ybSBzYW1wbGVyMkQgeVRleHR1cmU7XG4gIHVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xuICB1bmlmb3JtIHNhbXBsZXIyRCB2VGV4dHVyZTtcbiAgICBcbiAgY29uc3QgbWF0NCBjb252ZXJzaW9uID0gbWF0NChcbiAgICAxLjAsICAgICAwLjAsICAgICAxLjQwMiwgIC0wLjcwMSxcbiAgICAxLjAsICAgIC0wLjM0NCwgIC0wLjcxNCwgICAwLjUyOSxcbiAgICAxLjAsICAgICAxLjc3MiwgICAwLjAsICAgIC0wLjg4NixcbiAgICAwLjAsICAgICAwLjAsICAgICAwLjAsICAgICAwLjBcbiAgKTtcblxuICB2b2lkIG1haW4odm9pZCkge1xuICAgIGZsb2F0IHlDaGFubmVsID0gdGV4dHVyZTJEKHlUZXh0dXJlLCB2X3RleENvb3JkKS54O1xuICAgIGZsb2F0IHVDaGFubmVsID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2X3RleENvb3JkKS54O1xuICAgIGZsb2F0IHZDaGFubmVsID0gdGV4dHVyZTJEKHZUZXh0dXJlLCB2X3RleENvb3JkKS54O1xuICAgIHZlYzQgY2hhbm5lbHMgPSB2ZWM0KHlDaGFubmVsLCB1Q2hhbm5lbCwgdkNoYW5uZWwsIDEuMCk7XG4gICAgdmVjMyByZ2IgPSAoY2hhbm5lbHMgKiBjb252ZXJzaW9uKS54eXo7XG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChyZ2IsIDEuMCk7XG4gIH1cbmBcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/ShaderSources.js\n");

/***/ }),

/***/ "./src/Texture.js":
/*!************************!*\
  !*** ./src/Texture.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Texture)\n/* harmony export */ });\n// Copyright 2019 Erik De Rijcke\n//\n// This file is part of Greenfield.\n//\n// Greenfield is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Greenfield is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with Greenfield.  If not, see <https://www.gnu.org/licenses/>.\n\n/**\n * Represents a WebGL texture object.\n */\nclass Texture {\n  /**\n   * @param {!WebGLRenderingContext}gl\n   * @param {!number}format\n   * @return {!Texture}\n   */\n  static create (gl, format) {\n    const texture = gl.createTexture()\n    gl.bindTexture(gl.TEXTURE_2D, texture)\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST)\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST)\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE)\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE)\n    gl.bindTexture(gl.TEXTURE_2D, null)\n    return new Texture(gl, format, texture)\n  }\n\n  /**\n   * Use Texture.create(..) instead.\n   * @param {WebGLRenderingContext}gl\n   * @param {number}format\n   * @param {WebGLTexture}texture\n   * @private\n   */\n  constructor (gl, format, texture) {\n    /**\n     * @type {WebGLRenderingContext}\n     */\n    this.gl = gl\n    /**\n     * @type {WebGLTexture}\n     */\n    this.texture = texture\n    /**\n     * @type {number}\n     */\n    this.format = format\n  }\n\n  /**\n   * @param {!Uint8Array|HTMLVideoElement}buffer\n   * @param {!Rect}geo\n   * @param {number}stride\n   */\n  subImage2dBuffer (buffer, x, y, width, height) {\n    const gl = this.gl\n    gl.bindTexture(gl.TEXTURE_2D, this.texture)\n    gl.texSubImage2D(gl.TEXTURE_2D, 0, x, y, width, height, this.format, gl.UNSIGNED_BYTE, buffer)\n    gl.bindTexture(gl.TEXTURE_2D, null)\n  }\n\n  /**\n   * @param {!Uint8Array|HTMLVideoElement}buffer\n   * @param {number}width\n   * @param {number}height\n   */\n  image2dBuffer (buffer, width, height) {\n    const gl = this.gl\n    gl.bindTexture(gl.TEXTURE_2D, this.texture)\n    gl.texImage2D(gl.TEXTURE_2D, 0, this.format, width, height, 0, this.format, gl.UNSIGNED_BYTE, buffer)\n    gl.bindTexture(gl.TEXTURE_2D, null)\n  }\n\n  delete () {\n    this.gl.deleteTexture(this.texture)\n    this.texture = null\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvVGV4dHVyZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZW1vLy4vc3JjL1RleHR1cmUuanM/YWQ4OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOSBFcmlrIERlIFJpamNrZVxuLy9cbi8vIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIEdyZWVuZmllbGQuXG4vL1xuLy8gR3JlZW5maWVsZCBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4vLyBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbi8vIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4vLyAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuLy9cbi8vIEdyZWVuZmllbGQgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbi8vIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4vLyBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4vLyBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbi8vXG4vLyBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2Vcbi8vIGFsb25nIHdpdGggR3JlZW5maWVsZC4gIElmIG5vdCwgc2VlIDxodHRwczovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG5cbi8qKlxuICogUmVwcmVzZW50cyBhIFdlYkdMIHRleHR1cmUgb2JqZWN0LlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXh0dXJlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdlYkdMUmVuZGVyaW5nQ29udGV4dH1nbFxuICAgKiBAcGFyYW0geyFudW1iZXJ9Zm9ybWF0XG4gICAqIEByZXR1cm4geyFUZXh0dXJlfVxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZSAoZ2wsIGZvcm1hdCkge1xuICAgIGNvbnN0IHRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKClcbiAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKVxuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5ORUFSRVNUKVxuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5ORUFSRVNUKVxuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLkNMQU1QX1RPX0VER0UpXG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuQ0xBTVBfVE9fRURHRSlcbiAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBudWxsKVxuICAgIHJldHVybiBuZXcgVGV4dHVyZShnbCwgZm9ybWF0LCB0ZXh0dXJlKVxuICB9XG5cbiAgLyoqXG4gICAqIFVzZSBUZXh0dXJlLmNyZWF0ZSguLikgaW5zdGVhZC5cbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9Z2xcbiAgICogQHBhcmFtIHtudW1iZXJ9Zm9ybWF0XG4gICAqIEBwYXJhbSB7V2ViR0xUZXh0dXJlfXRleHR1cmVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNvbnN0cnVjdG9yIChnbCwgZm9ybWF0LCB0ZXh0dXJlKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgKi9cbiAgICB0aGlzLmdsID0gZ2xcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7V2ViR0xUZXh0dXJlfVxuICAgICAqL1xuICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmVcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZm9ybWF0ID0gZm9ybWF0XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshVWludDhBcnJheXxIVE1MVmlkZW9FbGVtZW50fWJ1ZmZlclxuICAgKiBAcGFyYW0geyFSZWN0fWdlb1xuICAgKiBAcGFyYW0ge251bWJlcn1zdHJpZGVcbiAgICovXG4gIHN1YkltYWdlMmRCdWZmZXIgKGJ1ZmZlciwgeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgIGNvbnN0IGdsID0gdGhpcy5nbFxuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMudGV4dHVyZSlcbiAgICBnbC50ZXhTdWJJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIHgsIHksIHdpZHRoLCBoZWlnaHQsIHRoaXMuZm9ybWF0LCBnbC5VTlNJR05FRF9CWVRFLCBidWZmZXIpXG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgbnVsbClcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFVaW50OEFycmF5fEhUTUxWaWRlb0VsZW1lbnR9YnVmZmVyXG4gICAqIEBwYXJhbSB7bnVtYmVyfXdpZHRoXG4gICAqIEBwYXJhbSB7bnVtYmVyfWhlaWdodFxuICAgKi9cbiAgaW1hZ2UyZEJ1ZmZlciAoYnVmZmVyLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgY29uc3QgZ2wgPSB0aGlzLmdsXG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy50ZXh0dXJlKVxuICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgdGhpcy5mb3JtYXQsIHdpZHRoLCBoZWlnaHQsIDAsIHRoaXMuZm9ybWF0LCBnbC5VTlNJR05FRF9CWVRFLCBidWZmZXIpXG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgbnVsbClcbiAgfVxuXG4gIGRlbGV0ZSAoKSB7XG4gICAgdGhpcy5nbC5kZWxldGVUZXh0dXJlKHRoaXMudGV4dHVyZSlcbiAgICB0aGlzLnRleHR1cmUgPSBudWxsXG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Texture.js\n");

/***/ }),

/***/ "./src/YUVSurfaceShader.js":
/*!*********************************!*\
  !*** ./src/YUVSurfaceShader.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ YUVSurfaceShader)\n/* harmony export */ });\n/* harmony import */ var _ShaderProgram__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ShaderProgram */ \"./src/ShaderProgram.js\");\n/* harmony import */ var _ShaderCompiler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ShaderCompiler */ \"./src/ShaderCompiler.js\");\n/* harmony import */ var _ShaderSources__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ShaderSources */ \"./src/ShaderSources.js\");\n\n\n\n\nclass YUVSurfaceShader {\n  /**\n   *\n   * @param {WebGLRenderingContext} gl\n   * @returns {YUVSurfaceShader}\n   */\n  static create (gl) {\n    const program = this._initShaders(gl)\n    const shaderArgs = this._initShaderArgs(gl, program)\n    const vertexBuffer = this._initBuffers(gl)\n\n    return new YUVSurfaceShader(gl, vertexBuffer, shaderArgs, program)\n  }\n\n  static _initShaders (gl) {\n    const program = new _ShaderProgram__WEBPACK_IMPORTED_MODULE_0__[\"default\"](gl)\n    program.attach(_ShaderCompiler__WEBPACK_IMPORTED_MODULE_1__[\"default\"].compile(gl, _ShaderSources__WEBPACK_IMPORTED_MODULE_2__.vertexQuad))\n    program.attach(_ShaderCompiler__WEBPACK_IMPORTED_MODULE_1__[\"default\"].compile(gl, _ShaderSources__WEBPACK_IMPORTED_MODULE_2__.fragmentYUV))\n    program.link()\n    program.use()\n\n    return program\n  }\n\n  static _initShaderArgs (gl, program) {\n    // find shader arguments\n    const shaderArgs = {}\n    shaderArgs.yTexture = program.getUniformLocation('yTexture')\n    shaderArgs.uTexture = program.getUniformLocation('uTexture')\n    shaderArgs.vTexture = program.getUniformLocation('vTexture')\n\n    shaderArgs.u_projection = program.getUniformLocation('u_projection')\n\n    shaderArgs.a_position = program.getAttributeLocation('a_position')\n    gl.enableVertexAttribArray(shaderArgs.a_position)\n    shaderArgs.a_texCoord = program.getAttributeLocation('a_texCoord')\n    gl.enableVertexAttribArray(shaderArgs.a_texCoord)\n\n    return shaderArgs\n  }\n\n  static _initBuffers (gl) {\n    // Create vertex buffer object.\n    return gl.createBuffer()\n  }\n\n  constructor (gl, vertexBuffer, shaderArgs, program) {\n    this.gl = gl\n    this.vertexBuffer = vertexBuffer\n    this.shaderArgs = shaderArgs\n    this.program = program\n  }\n\n  /**\n   *\n   * @param {Texture} textureY\n   * @param {Texture} textureU\n   * @param {Texture} textureV\n   */\n  setTexture (textureY, textureU, textureV) {\n    const gl = this.gl\n\n    gl.uniform1i(this.shaderArgs.yTexture, 0)\n    gl.uniform1i(this.shaderArgs.uTexture, 1)\n    gl.uniform1i(this.shaderArgs.vTexture, 2)\n\n    gl.activeTexture(gl.TEXTURE0)\n    gl.bindTexture(gl.TEXTURE_2D, textureY.texture)\n\n    gl.activeTexture(gl.TEXTURE1)\n    gl.bindTexture(gl.TEXTURE_2D, textureU.texture)\n\n    gl.activeTexture(gl.TEXTURE2)\n    gl.bindTexture(gl.TEXTURE_2D, textureV.texture)\n  }\n\n  use () {\n    this.program.use()\n  }\n\n  release () {\n    const gl = this.gl\n    gl.useProgram(null)\n  }\n\n  /**\n   * @param {{w:number, h:number}}encodedFrameSize\n   * @param {{maxXTexCoord:number, maxYTexCoord:number}} h264RenderState\n   */\n  updateShaderData (encodedFrameSize, h264RenderState) {\n    const { w, h } = encodedFrameSize\n    this.gl.viewport(0, 0, w, h)\n    this.program.setUniformM4(this.shaderArgs.u_projection, [\n      2.0 / w, 0, 0, 0,\n      0, 2.0 / -h, 0, 0,\n      0, 0, 1, 0,\n      -1, 1, 0, 1\n    ])\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuffer)\n    this.gl.bufferData(this.gl.ARRAY_BUFFER, new Float32Array([\n      // First triangle\n      // top left:\n      0, 0, 0, 0,\n      // top right:\n      w, 0, h264RenderState.maxXTexCoord, 0,\n      // bottom right:\n      w, h, h264RenderState.maxXTexCoord, h264RenderState.maxYTexCoord,\n\n      // Second triangle\n      // bottom right:\n      w, h, h264RenderState.maxXTexCoord, h264RenderState.maxYTexCoord,\n      // bottom left:\n      0, h, 0, h264RenderState.maxYTexCoord,\n      // top left:\n      0, 0, 0, 0\n    ]), this.gl.DYNAMIC_DRAW)\n    this.gl.vertexAttribPointer(this.shaderArgs.a_position, 2, this.gl.FLOAT, false, 16, 0)\n    this.gl.vertexAttribPointer(this.shaderArgs.a_texCoord, 2, this.gl.FLOAT, false, 16, 8)\n  }\n\n  draw () {\n    const gl = this.gl\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT | gl.STENCIL_BUFFER_BIT)\n    gl.drawArrays(this.gl.TRIANGLE_STRIP, 0, 6)\n    gl.bindTexture(gl.TEXTURE_2D, null)\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvWVVWU3VyZmFjZVNoYWRlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RlbW8vLi9zcmMvWVVWU3VyZmFjZVNoYWRlci5qcz9hNTBhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTaGFkZXJQcm9ncmFtIGZyb20gJy4vU2hhZGVyUHJvZ3JhbSdcbmltcG9ydCBTaGFkZXJDb21waWxlciBmcm9tICcuL1NoYWRlckNvbXBpbGVyJ1xuaW1wb3J0IHsgZnJhZ21lbnRZVVYsIHZlcnRleFF1YWQgfSBmcm9tICcuL1NoYWRlclNvdXJjZXMnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFlVVlN1cmZhY2VTaGFkZXIge1xuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAqIEByZXR1cm5zIHtZVVZTdXJmYWNlU2hhZGVyfVxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZSAoZ2wpIHtcbiAgICBjb25zdCBwcm9ncmFtID0gdGhpcy5faW5pdFNoYWRlcnMoZ2wpXG4gICAgY29uc3Qgc2hhZGVyQXJncyA9IHRoaXMuX2luaXRTaGFkZXJBcmdzKGdsLCBwcm9ncmFtKVxuICAgIGNvbnN0IHZlcnRleEJ1ZmZlciA9IHRoaXMuX2luaXRCdWZmZXJzKGdsKVxuXG4gICAgcmV0dXJuIG5ldyBZVVZTdXJmYWNlU2hhZGVyKGdsLCB2ZXJ0ZXhCdWZmZXIsIHNoYWRlckFyZ3MsIHByb2dyYW0pXG4gIH1cblxuICBzdGF0aWMgX2luaXRTaGFkZXJzIChnbCkge1xuICAgIGNvbnN0IHByb2dyYW0gPSBuZXcgU2hhZGVyUHJvZ3JhbShnbClcbiAgICBwcm9ncmFtLmF0dGFjaChTaGFkZXJDb21waWxlci5jb21waWxlKGdsLCB2ZXJ0ZXhRdWFkKSlcbiAgICBwcm9ncmFtLmF0dGFjaChTaGFkZXJDb21waWxlci5jb21waWxlKGdsLCBmcmFnbWVudFlVVikpXG4gICAgcHJvZ3JhbS5saW5rKClcbiAgICBwcm9ncmFtLnVzZSgpXG5cbiAgICByZXR1cm4gcHJvZ3JhbVxuICB9XG5cbiAgc3RhdGljIF9pbml0U2hhZGVyQXJncyAoZ2wsIHByb2dyYW0pIHtcbiAgICAvLyBmaW5kIHNoYWRlciBhcmd1bWVudHNcbiAgICBjb25zdCBzaGFkZXJBcmdzID0ge31cbiAgICBzaGFkZXJBcmdzLnlUZXh0dXJlID0gcHJvZ3JhbS5nZXRVbmlmb3JtTG9jYXRpb24oJ3lUZXh0dXJlJylcbiAgICBzaGFkZXJBcmdzLnVUZXh0dXJlID0gcHJvZ3JhbS5nZXRVbmlmb3JtTG9jYXRpb24oJ3VUZXh0dXJlJylcbiAgICBzaGFkZXJBcmdzLnZUZXh0dXJlID0gcHJvZ3JhbS5nZXRVbmlmb3JtTG9jYXRpb24oJ3ZUZXh0dXJlJylcblxuICAgIHNoYWRlckFyZ3MudV9wcm9qZWN0aW9uID0gcHJvZ3JhbS5nZXRVbmlmb3JtTG9jYXRpb24oJ3VfcHJvamVjdGlvbicpXG5cbiAgICBzaGFkZXJBcmdzLmFfcG9zaXRpb24gPSBwcm9ncmFtLmdldEF0dHJpYnV0ZUxvY2F0aW9uKCdhX3Bvc2l0aW9uJylcbiAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShzaGFkZXJBcmdzLmFfcG9zaXRpb24pXG4gICAgc2hhZGVyQXJncy5hX3RleENvb3JkID0gcHJvZ3JhbS5nZXRBdHRyaWJ1dGVMb2NhdGlvbignYV90ZXhDb29yZCcpXG4gICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoc2hhZGVyQXJncy5hX3RleENvb3JkKVxuXG4gICAgcmV0dXJuIHNoYWRlckFyZ3NcbiAgfVxuXG4gIHN0YXRpYyBfaW5pdEJ1ZmZlcnMgKGdsKSB7XG4gICAgLy8gQ3JlYXRlIHZlcnRleCBidWZmZXIgb2JqZWN0LlxuICAgIHJldHVybiBnbC5jcmVhdGVCdWZmZXIoKVxuICB9XG5cbiAgY29uc3RydWN0b3IgKGdsLCB2ZXJ0ZXhCdWZmZXIsIHNoYWRlckFyZ3MsIHByb2dyYW0pIHtcbiAgICB0aGlzLmdsID0gZ2xcbiAgICB0aGlzLnZlcnRleEJ1ZmZlciA9IHZlcnRleEJ1ZmZlclxuICAgIHRoaXMuc2hhZGVyQXJncyA9IHNoYWRlckFyZ3NcbiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtXG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtUZXh0dXJlfSB0ZXh0dXJlWVxuICAgKiBAcGFyYW0ge1RleHR1cmV9IHRleHR1cmVVXG4gICAqIEBwYXJhbSB7VGV4dHVyZX0gdGV4dHVyZVZcbiAgICovXG4gIHNldFRleHR1cmUgKHRleHR1cmVZLCB0ZXh0dXJlVSwgdGV4dHVyZVYpIHtcbiAgICBjb25zdCBnbCA9IHRoaXMuZ2xcblxuICAgIGdsLnVuaWZvcm0xaSh0aGlzLnNoYWRlckFyZ3MueVRleHR1cmUsIDApXG4gICAgZ2wudW5pZm9ybTFpKHRoaXMuc2hhZGVyQXJncy51VGV4dHVyZSwgMSlcbiAgICBnbC51bmlmb3JtMWkodGhpcy5zaGFkZXJBcmdzLnZUZXh0dXJlLCAyKVxuXG4gICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMClcbiAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlWS50ZXh0dXJlKVxuXG4gICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMSlcbiAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlVS50ZXh0dXJlKVxuXG4gICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMilcbiAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlVi50ZXh0dXJlKVxuICB9XG5cbiAgdXNlICgpIHtcbiAgICB0aGlzLnByb2dyYW0udXNlKClcbiAgfVxuXG4gIHJlbGVhc2UgKCkge1xuICAgIGNvbnN0IGdsID0gdGhpcy5nbFxuICAgIGdsLnVzZVByb2dyYW0obnVsbClcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3t3Om51bWJlciwgaDpudW1iZXJ9fWVuY29kZWRGcmFtZVNpemVcbiAgICogQHBhcmFtIHt7bWF4WFRleENvb3JkOm51bWJlciwgbWF4WVRleENvb3JkOm51bWJlcn19IGgyNjRSZW5kZXJTdGF0ZVxuICAgKi9cbiAgdXBkYXRlU2hhZGVyRGF0YSAoZW5jb2RlZEZyYW1lU2l6ZSwgaDI2NFJlbmRlclN0YXRlKSB7XG4gICAgY29uc3QgeyB3LCBoIH0gPSBlbmNvZGVkRnJhbWVTaXplXG4gICAgdGhpcy5nbC52aWV3cG9ydCgwLCAwLCB3LCBoKVxuICAgIHRoaXMucHJvZ3JhbS5zZXRVbmlmb3JtTTQodGhpcy5zaGFkZXJBcmdzLnVfcHJvamVjdGlvbiwgW1xuICAgICAgMi4wIC8gdywgMCwgMCwgMCxcbiAgICAgIDAsIDIuMCAvIC1oLCAwLCAwLFxuICAgICAgMCwgMCwgMSwgMCxcbiAgICAgIC0xLCAxLCAwLCAxXG4gICAgXSlcbiAgICB0aGlzLmdsLmJpbmRCdWZmZXIodGhpcy5nbC5BUlJBWV9CVUZGRVIsIHRoaXMudmVydGV4QnVmZmVyKVxuICAgIHRoaXMuZ2wuYnVmZmVyRGF0YSh0aGlzLmdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAvLyBGaXJzdCB0cmlhbmdsZVxuICAgICAgLy8gdG9wIGxlZnQ6XG4gICAgICAwLCAwLCAwLCAwLFxuICAgICAgLy8gdG9wIHJpZ2h0OlxuICAgICAgdywgMCwgaDI2NFJlbmRlclN0YXRlLm1heFhUZXhDb29yZCwgMCxcbiAgICAgIC8vIGJvdHRvbSByaWdodDpcbiAgICAgIHcsIGgsIGgyNjRSZW5kZXJTdGF0ZS5tYXhYVGV4Q29vcmQsIGgyNjRSZW5kZXJTdGF0ZS5tYXhZVGV4Q29vcmQsXG5cbiAgICAgIC8vIFNlY29uZCB0cmlhbmdsZVxuICAgICAgLy8gYm90dG9tIHJpZ2h0OlxuICAgICAgdywgaCwgaDI2NFJlbmRlclN0YXRlLm1heFhUZXhDb29yZCwgaDI2NFJlbmRlclN0YXRlLm1heFlUZXhDb29yZCxcbiAgICAgIC8vIGJvdHRvbSBsZWZ0OlxuICAgICAgMCwgaCwgMCwgaDI2NFJlbmRlclN0YXRlLm1heFlUZXhDb29yZCxcbiAgICAgIC8vIHRvcCBsZWZ0OlxuICAgICAgMCwgMCwgMCwgMFxuICAgIF0pLCB0aGlzLmdsLkRZTkFNSUNfRFJBVylcbiAgICB0aGlzLmdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5zaGFkZXJBcmdzLmFfcG9zaXRpb24sIDIsIHRoaXMuZ2wuRkxPQVQsIGZhbHNlLCAxNiwgMClcbiAgICB0aGlzLmdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5zaGFkZXJBcmdzLmFfdGV4Q29vcmQsIDIsIHRoaXMuZ2wuRkxPQVQsIGZhbHNlLCAxNiwgOClcbiAgfVxuXG4gIGRyYXcgKCkge1xuICAgIGNvbnN0IGdsID0gdGhpcy5nbFxuICAgIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQgfCBnbC5ERVBUSF9CVUZGRVJfQklUIHwgZ2wuU1RFTkNJTF9CVUZGRVJfQklUKVxuICAgIGdsLmRyYXdBcnJheXModGhpcy5nbC5UUklBTkdMRV9TVFJJUCwgMCwgNilcbiAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBudWxsKVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/YUVSurfaceShader.js\n");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _H264NALDecoder_worker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./H264NALDecoder.worker */ \"./src/H264NALDecoder.worker.js\");\n/* harmony import */ var _YUVSurfaceShader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./YUVSurfaceShader */ \"./src/YUVSurfaceShader.js\");\n/* harmony import */ var _Texture__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Texture */ \"./src/Texture.js\");\n\n\n\n\nlet H264Worker = null\nlet videoStreamId = 1\n\nlet canvas = null\n/**\n * @type {YUVSurfaceShader}\n */\nlet yuvSurfaceShader = null\nlet yTexture = null\nlet uTexture = null\nlet vTexture = null\n\n/**\n * @type {Array<Uint8Array>}\n */\nconst h264samples = []\n\nlet nroFrames = 0\nlet start = 0\n\n/**\n * @param {Uint8Array} h264Nal\n */\nfunction decode(h264Nal) {\n  H264Worker.postMessage(\n    {\n      type: 'decode',\n      data: h264Nal.buffer,\n      offset: h264Nal.byteOffset,\n      length: h264Nal.byteLength,\n      renderStateId: videoStreamId,\n    },\n    [h264Nal.buffer],\n  )\n}\n\nfunction onPictureReady(message) {\n  const { width, height, data } = message\n  onPicture(data, width, height)\n}\n\nfunction onPicture(data, width, height) {\n  decodeNext()\n  const { ptr: framePtr, yPlane, uPlane, vPlane, stride } = data\n\n  canvas.width = width\n  canvas.height = height\n\n  const sourceWidth = width\n  const sourceHeight = height\n  const maxXTexCoord = sourceWidth / stride\n  const maxYTexCoord = sourceHeight / height\n\n  const chromaHeight = height >> 1\n\n  // we upload the entire image, including stride padding & filler rows. The actual visible image will be mapped\n  // from texture coordinates as to crop out stride padding & filler rows using maxXTexCoord and maxYTexCoord.\n\n  yTexture.image2dBuffer(yPlane, stride, height)\n  uTexture.image2dBuffer(uPlane, stride / 2, chromaHeight)\n  vTexture.image2dBuffer(vPlane, stride / 2, chromaHeight)\n  closeFrame(framePtr)\n\n  yuvSurfaceShader.setTexture(yTexture, uTexture, vTexture)\n  yuvSurfaceShader.updateShaderData({ w: width, h: height }, { maxXTexCoord, maxYTexCoord })\n  yuvSurfaceShader.draw()\n}\n\nfunction closeFrame(framePtr) {\n  H264Worker.postMessage({ type: 'closeFrame', renderStateId: videoStreamId, data: framePtr })\n}\n\nfunction release() {\n  if (H264Worker) {\n    H264Worker.postMessage({ type: 'release', renderStateId: videoStreamId })\n    H264Worker = null\n  }\n}\n\nfunction decodeNext() {\n  const nextFrame = h264samples.shift()\n  if (nextFrame != null) {\n    decode(nextFrame)\n  } else {\n    const fps = (1000 / (Date.now() - start)) * nroFrames\n    window.alert(`Decoded ${nroFrames} (3440x1216) frames in ${Date.now() - start}ms @ ${fps >> 0}FPS`)\n  }\n}\n\nfunction initWebGLCanvas() {\n  canvas = document.createElement('canvas')\n  const gl = canvas.getContext('webgl')\n  yuvSurfaceShader = _YUVSurfaceShader__WEBPACK_IMPORTED_MODULE_1__[\"default\"].create(gl)\n  yTexture = _Texture__WEBPACK_IMPORTED_MODULE_2__[\"default\"].create(gl, gl.LUMINANCE)\n  uTexture = _Texture__WEBPACK_IMPORTED_MODULE_2__[\"default\"].create(gl, gl.LUMINANCE)\n  vTexture = _Texture__WEBPACK_IMPORTED_MODULE_2__[\"default\"].create(gl, gl.LUMINANCE)\n\n  document.body.append(canvas)\n}\n\nfunction main() {\n  initWebGLCanvas()\n  new Promise((resolve) => {\n    /**\n     * @type {Worker}\n     * @private\n     */\n    H264Worker = new _H264NALDecoder_worker__WEBPACK_IMPORTED_MODULE_0__[\"default\"]()\n    H264Worker.addEventListener('message', (e) => {\n      const message = e.data\n      switch (message.type) {\n        case 'pictureReady':\n          onPictureReady(message)\n          break\n        case 'decoderReady':\n          resolve(H264Worker)\n          break\n      }\n    })\n  })\n    .then(() => {\n      const fetches = []\n      for (let i = 0; i < 60; i++) {\n        fetches.push(\n          fetch(`h264samples/${i}`).then((response) => {\n            return response.arrayBuffer().then(function (buffer) {\n              h264samples[i] = new Uint8Array(buffer)\n            })\n          }),\n        )\n      }\n\n      return Promise.all(fetches)\n    })\n    .then(() => {\n      nroFrames = h264samples.length\n      start = Date.now()\n      decodeNext()\n    })\n}\n\nmain()\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZW1vLy4vc3JjL2luZGV4LmpzP2I2MzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFdvcmtlciBmcm9tICcuL0gyNjROQUxEZWNvZGVyLndvcmtlcidcbmltcG9ydCBZVVZTdXJmYWNlU2hhZGVyIGZyb20gJy4vWVVWU3VyZmFjZVNoYWRlcidcbmltcG9ydCBUZXh0dXJlIGZyb20gJy4vVGV4dHVyZSdcblxubGV0IEgyNjRXb3JrZXIgPSBudWxsXG5sZXQgdmlkZW9TdHJlYW1JZCA9IDFcblxubGV0IGNhbnZhcyA9IG51bGxcbi8qKlxuICogQHR5cGUge1lVVlN1cmZhY2VTaGFkZXJ9XG4gKi9cbmxldCB5dXZTdXJmYWNlU2hhZGVyID0gbnVsbFxubGV0IHlUZXh0dXJlID0gbnVsbFxubGV0IHVUZXh0dXJlID0gbnVsbFxubGV0IHZUZXh0dXJlID0gbnVsbFxuXG4vKipcbiAqIEB0eXBlIHtBcnJheTxVaW50OEFycmF5Pn1cbiAqL1xuY29uc3QgaDI2NHNhbXBsZXMgPSBbXVxuXG5sZXQgbnJvRnJhbWVzID0gMFxubGV0IHN0YXJ0ID0gMFxuXG4vKipcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gaDI2NE5hbFxuICovXG5mdW5jdGlvbiBkZWNvZGUoaDI2NE5hbCkge1xuICBIMjY0V29ya2VyLnBvc3RNZXNzYWdlKFxuICAgIHtcbiAgICAgIHR5cGU6ICdkZWNvZGUnLFxuICAgICAgZGF0YTogaDI2NE5hbC5idWZmZXIsXG4gICAgICBvZmZzZXQ6IGgyNjROYWwuYnl0ZU9mZnNldCxcbiAgICAgIGxlbmd0aDogaDI2NE5hbC5ieXRlTGVuZ3RoLFxuICAgICAgcmVuZGVyU3RhdGVJZDogdmlkZW9TdHJlYW1JZCxcbiAgICB9LFxuICAgIFtoMjY0TmFsLmJ1ZmZlcl0sXG4gIClcbn1cblxuZnVuY3Rpb24gb25QaWN0dXJlUmVhZHkobWVzc2FnZSkge1xuICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIGRhdGEgfSA9IG1lc3NhZ2VcbiAgb25QaWN0dXJlKGRhdGEsIHdpZHRoLCBoZWlnaHQpXG59XG5cbmZ1bmN0aW9uIG9uUGljdHVyZShkYXRhLCB3aWR0aCwgaGVpZ2h0KSB7XG4gIGRlY29kZU5leHQoKVxuICBjb25zdCB7IHB0cjogZnJhbWVQdHIsIHlQbGFuZSwgdVBsYW5lLCB2UGxhbmUsIHN0cmlkZSB9ID0gZGF0YVxuXG4gIGNhbnZhcy53aWR0aCA9IHdpZHRoXG4gIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHRcblxuICBjb25zdCBzb3VyY2VXaWR0aCA9IHdpZHRoXG4gIGNvbnN0IHNvdXJjZUhlaWdodCA9IGhlaWdodFxuICBjb25zdCBtYXhYVGV4Q29vcmQgPSBzb3VyY2VXaWR0aCAvIHN0cmlkZVxuICBjb25zdCBtYXhZVGV4Q29vcmQgPSBzb3VyY2VIZWlnaHQgLyBoZWlnaHRcblxuICBjb25zdCBjaHJvbWFIZWlnaHQgPSBoZWlnaHQgPj4gMVxuXG4gIC8vIHdlIHVwbG9hZCB0aGUgZW50aXJlIGltYWdlLCBpbmNsdWRpbmcgc3RyaWRlIHBhZGRpbmcgJiBmaWxsZXIgcm93cy4gVGhlIGFjdHVhbCB2aXNpYmxlIGltYWdlIHdpbGwgYmUgbWFwcGVkXG4gIC8vIGZyb20gdGV4dHVyZSBjb29yZGluYXRlcyBhcyB0byBjcm9wIG91dCBzdHJpZGUgcGFkZGluZyAmIGZpbGxlciByb3dzIHVzaW5nIG1heFhUZXhDb29yZCBhbmQgbWF4WVRleENvb3JkLlxuXG4gIHlUZXh0dXJlLmltYWdlMmRCdWZmZXIoeVBsYW5lLCBzdHJpZGUsIGhlaWdodClcbiAgdVRleHR1cmUuaW1hZ2UyZEJ1ZmZlcih1UGxhbmUsIHN0cmlkZSAvIDIsIGNocm9tYUhlaWdodClcbiAgdlRleHR1cmUuaW1hZ2UyZEJ1ZmZlcih2UGxhbmUsIHN0cmlkZSAvIDIsIGNocm9tYUhlaWdodClcbiAgY2xvc2VGcmFtZShmcmFtZVB0cilcblxuICB5dXZTdXJmYWNlU2hhZGVyLnNldFRleHR1cmUoeVRleHR1cmUsIHVUZXh0dXJlLCB2VGV4dHVyZSlcbiAgeXV2U3VyZmFjZVNoYWRlci51cGRhdGVTaGFkZXJEYXRhKHsgdzogd2lkdGgsIGg6IGhlaWdodCB9LCB7IG1heFhUZXhDb29yZCwgbWF4WVRleENvb3JkIH0pXG4gIHl1dlN1cmZhY2VTaGFkZXIuZHJhdygpXG59XG5cbmZ1bmN0aW9uIGNsb3NlRnJhbWUoZnJhbWVQdHIpIHtcbiAgSDI2NFdvcmtlci5wb3N0TWVzc2FnZSh7IHR5cGU6ICdjbG9zZUZyYW1lJywgcmVuZGVyU3RhdGVJZDogdmlkZW9TdHJlYW1JZCwgZGF0YTogZnJhbWVQdHIgfSlcbn1cblxuZnVuY3Rpb24gcmVsZWFzZSgpIHtcbiAgaWYgKEgyNjRXb3JrZXIpIHtcbiAgICBIMjY0V29ya2VyLnBvc3RNZXNzYWdlKHsgdHlwZTogJ3JlbGVhc2UnLCByZW5kZXJTdGF0ZUlkOiB2aWRlb1N0cmVhbUlkIH0pXG4gICAgSDI2NFdvcmtlciA9IG51bGxcbiAgfVxufVxuXG5mdW5jdGlvbiBkZWNvZGVOZXh0KCkge1xuICBjb25zdCBuZXh0RnJhbWUgPSBoMjY0c2FtcGxlcy5zaGlmdCgpXG4gIGlmIChuZXh0RnJhbWUgIT0gbnVsbCkge1xuICAgIGRlY29kZShuZXh0RnJhbWUpXG4gIH0gZWxzZSB7XG4gICAgY29uc3QgZnBzID0gKDEwMDAgLyAoRGF0ZS5ub3coKSAtIHN0YXJ0KSkgKiBucm9GcmFtZXNcbiAgICB3aW5kb3cuYWxlcnQoYERlY29kZWQgJHtucm9GcmFtZXN9ICgzNDQweDEyMTYpIGZyYW1lcyBpbiAke0RhdGUubm93KCkgLSBzdGFydH1tcyBAICR7ZnBzID4+IDB9RlBTYClcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0V2ViR0xDYW52YXMoKSB7XG4gIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpXG4gIGNvbnN0IGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJylcbiAgeXV2U3VyZmFjZVNoYWRlciA9IFlVVlN1cmZhY2VTaGFkZXIuY3JlYXRlKGdsKVxuICB5VGV4dHVyZSA9IFRleHR1cmUuY3JlYXRlKGdsLCBnbC5MVU1JTkFOQ0UpXG4gIHVUZXh0dXJlID0gVGV4dHVyZS5jcmVhdGUoZ2wsIGdsLkxVTUlOQU5DRSlcbiAgdlRleHR1cmUgPSBUZXh0dXJlLmNyZWF0ZShnbCwgZ2wuTFVNSU5BTkNFKVxuXG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kKGNhbnZhcylcbn1cblxuZnVuY3Rpb24gbWFpbigpIHtcbiAgaW5pdFdlYkdMQ2FudmFzKClcbiAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7V29ya2VyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSDI2NFdvcmtlciA9IG5ldyBXb3JrZXIoKVxuICAgIEgyNjRXb3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIChlKSA9PiB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gZS5kYXRhXG4gICAgICBzd2l0Y2ggKG1lc3NhZ2UudHlwZSkge1xuICAgICAgICBjYXNlICdwaWN0dXJlUmVhZHknOlxuICAgICAgICAgIG9uUGljdHVyZVJlYWR5KG1lc3NhZ2UpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnZGVjb2RlclJlYWR5JzpcbiAgICAgICAgICByZXNvbHZlKEgyNjRXb3JrZXIpXG4gICAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9KVxuICB9KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIGNvbnN0IGZldGNoZXMgPSBbXVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2MDsgaSsrKSB7XG4gICAgICAgIGZldGNoZXMucHVzaChcbiAgICAgICAgICBmZXRjaChgaDI2NHNhbXBsZXMvJHtpfWApLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuYXJyYXlCdWZmZXIoKS50aGVuKGZ1bmN0aW9uIChidWZmZXIpIHtcbiAgICAgICAgICAgICAgaDI2NHNhbXBsZXNbaV0gPSBuZXcgVWludDhBcnJheShidWZmZXIpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pLFxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChmZXRjaGVzKVxuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgbnJvRnJhbWVzID0gaDI2NHNhbXBsZXMubGVuZ3RoXG4gICAgICBzdGFydCA9IERhdGUubm93KClcbiAgICAgIGRlY29kZU5leHQoKVxuICAgIH0pXG59XG5cbm1haW4oKVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript)
/******/ 				scriptUrl = document.currentScript.src
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) scriptUrl = scripts[scripts.length - 1].src
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl;
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	
/******/ })()
;